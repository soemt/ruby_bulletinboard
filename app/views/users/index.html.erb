<h1 class="inline-block text-2xl sm:text-3xl font-semibold text-gray-900 tracking-tight mb-[25px]">User List</h1>

<div id="posts" class="max-w-7xl mx-auto">
  <%= form_tag(users_path, :method => :get) do %>
    <div class="flex justify-end gap-1 mb-6">
        <%= text_field_tag :name, params[:name], placeholder: "Name", class: "appearance-none rounded border border-gray-400 border-b px-6 py-2 bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none col-start-2" %>
        <%= text_field_tag :email, params[:email], placeholder: "Email", class: "appearance-none rounded border border-gray-400 border-b px-6 py-2 bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none" %>
        <label class="text-sm text-gray-600 ml-2">From:
          <%= date_field_tag :start_date, params[:start_date], autocomplete: 'off', class: "appearance-none bg-gray-200 text-gray-700 border border-gray-200 rounded py-2 px-4 leading-tight focus:outline-none focus:bg-white" %>
        </label>
        <label class="text-sm text-gray-600 ml-2">To:
          <%= date_field_tag :end_date, params[:end_date], autocomplete: 'off', class: "appearance-none bg-gray-200 text-gray-700 border border-gray-200 rounded py-2 px-4 leading-tight focus:outline-none focus:bg-white" %>
        </label>
        <%= submit_tag ("Search"), class: "w-[120px] mx-[5px] px-4 py-2 rounded-md text-sm font-medium border shadow focus:outline-none focus:ring transition text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100 active:bg-gray-200 focus:ring-gray-300 cursor-pointer" %>
    </div>
  <% end %>
  <table id="dataTable" data-turbolinks="false" class="block table-fixed min-w-full shadow rounded-lg overflow-hidden overflow-x-scroll mb-5">
    <thead>
      <tr>
      <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">ID</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Name</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Email</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider min-w-[150px]">Created By</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Role</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Phone</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider min-w-[150px]">Date of Birth</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Address</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Created At</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Updated At</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Operation</th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-800">
      <% if @users.each do |user| %>
        <%= render user %>
      <% end.empty? %>
        <tr class="relative h-[57px]">
          <td class="absolute w-full border-b border-gray-100 py-4 px-5 text-gray-500 text-center">
            No data
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<script>
$(document).ready(function () {
  $('#dataTable').dataTable({
    "pageLength": 5,
    "searching": false,
    "ordering": false,
    "info": false,
    "bLengthChange": false,
  });
});
</script>

